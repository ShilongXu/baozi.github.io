<mxfile host="app.diagrams.net" modified="2021-08-09T08:20:06.951Z" agent="5.0 (Windows)" etag="_t_s8Qxfaq21rvlBZMlJ" version="14.9.5" type="github">
  <diagram id="6a731a19-8d31-9384-78a2-239565b7b9f0" name="Page-1">
    <mxGraphModel dx="1946" dy="463" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_3EDfVnfO1TGGqDo599J-32" value="" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=86;strokeWidth=2;fillColor=#E6FFCC;dashed=1;strokeColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="-540" y="920" width="380" height="590" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-116" value="" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];rounded=1;arcSize=9;dashed=1;strokeWidth=2;glass=0;fillColor=#F0FFFE;strokeColor=#00F5F5;" parent="1" vertex="1">
          <mxGeometry x="370" y="440" width="480" height="1650" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-173" value="" style="rounded=1;whiteSpace=wrap;html=1;glass=0;strokeWidth=2;gradientColor=none;strokeColor=#FF0080;fillColor=#FFF0F3;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="384.75" y="860" width="395.25" height="390" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-108" value="" style="points=[[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];rounded=1;arcSize=10;dashed=1;strokeColor=#36393d;dashPattern=8 3 1 3;strokeWidth=2;fillColor=#EEE0DD;" parent="1" vertex="1">
          <mxGeometry x="426.25" y="450" width="173.75" height="390" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.59;entryY=-0.067;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-56" target="k4lBBu5_LCIpSnBgb268-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-56" target="k4lBBu5_LCIpSnBgb268-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-56" value="&lt;div&gt;认证服务&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="180" y="70" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-57" target="k4lBBu5_LCIpSnBgb268-215" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="k4lBBu5_LCIpSnBgb268-57" target="k4lBBu5_LCIpSnBgb268-236">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-57" value="&lt;div&gt;登录页面&lt;/div&gt;&lt;div&gt;login&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;" parent="1" vertex="1">
          <mxGeometry x="-150" y="190" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-58" target="k4lBBu5_LCIpSnBgb268-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-58" value="&lt;div&gt;注册页面&lt;/div&gt;&lt;div&gt;reg&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;" parent="1" vertex="1">
          <mxGeometry x="437.5" y="190" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-61" target="k4lBBu5_LCIpSnBgb268-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="487.5" y="414" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-61" value="&lt;div&gt;填写表单信息&lt;/div&gt;&lt;div&gt;用户名username：&lt;/div&gt;&lt;div&gt;密码posword：&lt;/div&gt;&lt;div&gt;手机号phone：&lt;/div&gt;&lt;div&gt;验证码code：&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="410" y="290" width="155" height="90" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-61" target="k4lBBu5_LCIpSnBgb268-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-63" target="k4lBBu5_LCIpSnBgb268-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-63" target="k4lBBu5_LCIpSnBgb268-61" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="620" y="528" />
              <mxPoint x="620" y="313" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-63" value="输入用户名密码是否为空，字符数是否满足要求" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="421.25" y="480" width="132.5" height="96" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-65" target="k4lBBu5_LCIpSnBgb268-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-65" value="&lt;div&gt;输入手机号是否满足要求&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="447.5" y="610" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-67" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-214" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" parent="1" source="k4lBBu5_LCIpSnBgb268-67" target="k4lBBu5_LCIpSnBgb268-175" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-67" value="输入验证码是否为空" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="447.5" y="730" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-77" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="485" y="580" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-78" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="485" y="690" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-79" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="555" y="750" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-80" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="553.75" y="630" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-81" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="555" y="510" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-111" value="&lt;div&gt;JSR303注解校&lt;/div&gt;&lt;div&gt;验表单内容&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fillColor=#f8cecc;strokeColor=#00F5F5;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="500" y="450" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-117" target="k4lBBu5_LCIpSnBgb268-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-117" value="&lt;div&gt;获取redis缓存中的key：value&lt;/div&gt;&lt;div&gt;key是手机号&lt;/div&gt;&lt;div&gt;value是验证码&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;glass=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="427.5" y="1400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-118" target="k4lBBu5_LCIpSnBgb268-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.56;entryY=0.8;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-118" target="k4lBBu5_LCIpSnBgb268-126" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="930" y="1310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-118" value="判断手机获取的验证码在redis中是否为空" style="rhombus;whiteSpace=wrap;html=1;rounded=0;glass=1;strokeColor=#000000;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="442.5" y="1270" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-121" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="557.25" y="1290" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-123" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="487.25" y="1360" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-126" target="k4lBBu5_LCIpSnBgb268-58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="817" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-126" value="提示”验证码错误，重新填写验证码“" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;rounded=0;glass=1;" parent="1" vertex="1">
          <mxGeometry x="767.25" y="740" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-130" target="k4lBBu5_LCIpSnBgb268-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.56;entryY=0.883;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-130" target="k4lBBu5_LCIpSnBgb268-126" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="930" y="1310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="823" y="1560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-130" value="判断表单输入的验证码和redis中的是否相同" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;rounded=0;glass=1;" parent="1" vertex="1">
          <mxGeometry x="428.75" y="1520" width="117.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-149" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-131" target="k4lBBu5_LCIpSnBgb268-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-131" value="删除redis中缓存的验证码" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;glass=0;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="437.5" y="1645.5" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-136" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="487.25" y="1620" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-138" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="557.25" y="1540" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-144" value="防止一个手机号重复&#xa;使用相同的验证码" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;rounded=0;glass=0;" parent="1" vertex="1">
          <mxGeometry x="572.25" y="1651" width="145" height="49" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-145" value="令牌机制" style="strokeWidth=1;shadow=0;dashed=0;align=center;html=1;shape=mxgraph.mockup.text.callout;linkText=;textSize=17;textColor=#666666;callDir=NE;callStyle=line;fontSize=17;fontColor=#666666;align=right;verticalAlign=top;strokeColor=#666666;rounded=0;glass=0;fillColor=#EEE0DD;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="539.75" y="1610" width="120" height="46.5" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-165" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-146" target="k4lBBu5_LCIpSnBgb268-164" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-146" value="将用户注册的表单信息（用户名，手机号）存入数据库" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#FFFFFF;glass=0;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="427.5" y="1880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.52;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-148" target="k4lBBu5_LCIpSnBgb268-151" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-160" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-148" target="k4lBBu5_LCIpSnBgb268-146" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-148" value="数据库中是否存在注册的手机号和用户名" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#FFFFFF;glass=0;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="426.25" y="1750" width="123.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-151" target="k4lBBu5_LCIpSnBgb268-152" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-151" value="用户名或手机号已被注册" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;rounded=0;glass=0;gradientColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="240" y="1120" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-152" target="k4lBBu5_LCIpSnBgb268-58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-152" target="k4lBBu5_LCIpSnBgb268-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="170" y="1010" as="targetPoint" />
            <Array as="points">
              <mxPoint x="170" y="1010" />
              <mxPoint x="170" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-152" value="&lt;div&gt;重新输入？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;strokeWidth=2;glass=0;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="250" y="970" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-156" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="285" y="940" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-158" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="215" y="980" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-159" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="396.25" y="1770" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-161" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="487.25" y="1850" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-207" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-164" target="k4lBBu5_LCIpSnBgb268-206" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-164" value="将表单提交的密码用MD5盐值加密存入数据库" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#FFFFFF;glass=0;arcSize=14;" parent="1" vertex="1">
          <mxGeometry x="427.5" y="1980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-168" value="使用spring提供的的密码加密器BCryptPasswordEncoder.match(&quot;明文&quot;,&quot;MD5值&quot;)，表示明文和MD5值相比较，若此明文的MD5值是提供的返回true，否则返回false" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;rounded=0;glass=0;strokeWidth=2;fillColor=#ffff88;size=27;strokeColor=#66FFFF;" parent="1" vertex="1">
          <mxGeometry x="-40" y="760" width="190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-171" value="使用spring的BCryptPasswordEncoder.encode(&quot;明文&quot;)，表示将明文盐值加密，返回MD5字符串" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;rounded=0;glass=0;strokeWidth=2;fillColor=#ffff88;size=27;strokeColor=#66FFFF;" parent="1" vertex="1">
          <mxGeometry x="567.25" y="1967" width="200" height="86" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-174" value="短信校验" style="text;html=1;strokeColor=#36393d;fillColor=#ffff88;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;glass=0;fontSize=15;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="707.25" y="440" width="82.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-177" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-175" target="k4lBBu5_LCIpSnBgb268-176" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-175" value="申请短信api接口并配置" style="rounded=1;whiteSpace=wrap;html=1;glass=0;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="432.5" y="880" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-183" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-176" target="k4lBBu5_LCIpSnBgb268-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-176" value="点击发送" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;glass=0;" parent="1" vertex="1">
          <mxGeometry x="421.25" y="960" width="132.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-185" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-182" target="k4lBBu5_LCIpSnBgb268-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-182" value="判断缓存中是否有当前手机号码对应的验证码" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;glass=0;" parent="1" vertex="1">
          <mxGeometry x="420" y="1040" width="135" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-184" target="k4lBBu5_LCIpSnBgb268-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-184" value="生成5位字符的验证码，并将手机号作为key，随机生成的验证码和系统时间作为value存入redis中" style="whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;glass=0;" parent="1" vertex="1">
          <mxGeometry x="405" y="1160" width="165" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-186" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="486" y="1120" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-189" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-182" target="k4lBBu5_LCIpSnBgb268-188" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-187" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="553.5" y="1060" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-193" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-188" target="k4lBBu5_LCIpSnBgb268-192" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-188" target="k4lBBu5_LCIpSnBgb268-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-188" value="当前时间与redis中与电话号码生成的时间差是否小于60s" style="rhombus;whiteSpace=wrap;html=1;rounded=0;glass=0;strokeColor=#000000;strokeWidth=2;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="641" y="1042.5" width="121" height="75" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-192" target="k4lBBu5_LCIpSnBgb268-176" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-192" value="60s后重新发送" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;glass=0;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="646.75" y="950" width="109.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-195" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="696" y="1020" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-197" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="696" y="1120" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-206" target="k4lBBu5_LCIpSnBgb268-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="230" y="1860" as="targetPoint" />
            <Array as="points">
              <mxPoint x="170" y="2010" />
              <mxPoint x="170" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-206" value="注册成功" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;rounded=0;glass=0;strokeColor=#000000;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="220" y="1970" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-210" value="&lt;div&gt;防止同一个手机在60s&lt;/div&gt;&lt;div&gt;内多次发送验证码&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;glass=0;strokeWidth=2;fillColor=#cce5ff;fontStyle=1;strokeColor=#71FF12;" parent="1" vertex="1">
          <mxGeometry x="640" y="860" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-212" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="485" y="810" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-227" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-215" target="k4lBBu5_LCIpSnBgb268-217" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-215" value="帐号密码登录" style="rounded=1;whiteSpace=wrap;html=1;glass=0;fontSize=12;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="-160" y="300" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-219" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-217" target="k4lBBu5_LCIpSnBgb268-218" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-217" value="点击登录按钮获取表单中的帐号和密码" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;glass=0;fontSize=12;strokeColor=#000000;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="-160" y="390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-225" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-218" target="k4lBBu5_LCIpSnBgb268-224" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-229" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-218" target="k4lBBu5_LCIpSnBgb268-228" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-218" value="判断表单中用户名或手机号在数据库中是否存在" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;glass=0;" parent="1" vertex="1">
          <mxGeometry x="-170" y="520" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-220" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-90" y="600" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-221" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-25" y="540" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-226" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-224" target="k4lBBu5_LCIpSnBgb268-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="105" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-224" value="帐号/密码错误，请重新登录" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;rounded=1;glass=0;fontSize=12;strokeColor=#000000;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="60" y="535" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.556;entryY=0.82;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-228" target="k4lBBu5_LCIpSnBgb268-224" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-234" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="k4lBBu5_LCIpSnBgb268-228" target="k4lBBu5_LCIpSnBgb268-233" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-34" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.005;entryY=0.57;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;strokeColor=#FF0000;" edge="1" parent="1" source="k4lBBu5_LCIpSnBgb268-228" target="k4lBBu5_LCIpSnBgb268-168">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-228" value="将表单提交的密码与数数据库中存储的MD5值用match方法判断" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;glass=0;" parent="1" vertex="1">
          <mxGeometry x="-165" y="660" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-232" value="false" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-25" y="680" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-233" value="商城首页" style="ellipse;whiteSpace=wrap;html=1;rounded=1;glass=0;fontSize=12;strokeColor=#000000;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="-148" y="1570" width="97.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-235" value="true" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-100" y="740" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="k4lBBu5_LCIpSnBgb268-236" target="yCdVJvHv2zUiD3y8cZ7O-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-236" value="&lt;div&gt;社交帐号登录&lt;/div&gt;&lt;div&gt;[OAuth2.0协议]&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;glass=0;fontSize=12;strokeColor=#000000;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="-517.78" y="310" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="k4lBBu5_LCIpSnBgb268-237" target="yCdVJvHv2zUiD3y8cZ7O-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="k4lBBu5_LCIpSnBgb268-237" value="向用户申请请求认证" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;glass=0;fontSize=12;strokeColor=#000000;strokeWidth=2;fillColor=#ffffff;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="-517.78" y="480" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-2" target="k4lBBu5_LCIpSnBgb268-237" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-2" value="跳转到社交帐号授权页面" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-502.16" y="385" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-3" target="yCdVJvHv2zUiD3y8cZ7O-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-3" value="&lt;div&gt;用户授权&lt;/div&gt;&lt;div&gt;输入社交帐号和密码&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;strokeWidth=2;glass=0;" parent="1" vertex="1">
          <mxGeometry x="-502.15000000000003" y="580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-8" target="yCdVJvHv2zUiD3y8cZ7O-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.49;entryY=0.9;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-8" target="_3EDfVnfO1TGGqDo599J-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-8" value="&lt;div&gt;将用户名和密码上传到社交帐号认证服务器进行认证&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-512.1600000000001" y="670" width="138.75" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-11" target="yCdVJvHv2zUiD3y8cZ7O-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-345.7449999999999" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;strokeColor=#FF0000;" edge="1" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-11" target="_3EDfVnfO1TGGqDo599J-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-11" value="生成code码向社交平台访问，获取访问令牌" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="-505.15000000000003" y="816.5" width="125.56" height="67" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-13" value="认证通过" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="-437.7" y="780" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="yCdVJvHv2zUiD3y8cZ7O-17" target="_3EDfVnfO1TGGqDo599J-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-17" value="在数据库中增加社交用户唯一id：uid，访问令牌token和令牌生存周期expires字段" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;strokeWidth=2;arcSize=12;" parent="1" vertex="1">
          <mxGeometry x="-519.74" y="945" width="154.7" height="70" as="geometry" />
        </mxCell>
        <mxCell id="yCdVJvHv2zUiD3y8cZ7O-21" value="认证不通过" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="-382.16" y="720" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-2" value="下次用户登录时持有访问令牌就可以登录；一个code码获只能获取一次令牌，令牌在一段时间内不变，即使多次获取" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#00FFFF;fillColor=#FFFF88;" vertex="1" parent="1">
          <mxGeometry x="-314.2500000000001" y="755" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.998;entryY=0.383;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-6" target="yCdVJvHv2zUiD3y8cZ7O-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-6" value="帐号/密码错误，请重新登录" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;" vertex="1" parent="1">
          <mxGeometry x="-302.16" y="585" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-11" target="_3EDfVnfO1TGGqDo599J-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-11" target="_3EDfVnfO1TGGqDo599J-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-11" value="根据uid判断当前社交用户在数据库中是否为空；即表示是否已登录过系统" style="rhombus;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=12;" vertex="1" parent="1">
          <mxGeometry x="-507.09" y="1050" width="129.39" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-18" target="_3EDfVnfO1TGGqDo599J-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-18" value="更新数据库中对应udi的令牌和令牌过期时间" style="whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=12;" vertex="1" parent="1">
          <mxGeometry x="-502.4" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-20" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="-436.65000000000003" y="1131" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-21" target="_3EDfVnfO1TGGqDo599J-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-21" value="注册当前社交用户" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;strokeWidth=2;arcSize=12;" vertex="1" parent="1">
          <mxGeometry x="-314.25500000000005" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-23" target="_3EDfVnfO1TGGqDo599J-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-23" value="&lt;div&gt;持令牌访问社交平台服务器&lt;/div&gt;&lt;div&gt;获取社交帐号开放保护信息，返回json数据&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;html=1;strokeWidth=2;perimeter=parallelogramPerimeter;whiteSpace=wrap;rounded=1;arcSize=12;size=0.23;" vertex="1" parent="1">
          <mxGeometry x="-338.51" y="1160" width="168.51" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-37" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-25" target="_3EDfVnfO1TGGqDo599J-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-25" value="用JSONObject对象的parseObjec方法获取用户唯一id，令牌，令牌过期时间，昵称，头像，性别等信息存入数据库" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=1;strokeWidth=2;arcSize=12;" vertex="1" parent="1">
          <mxGeometry x="-329.45" y="1275" width="150.4" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-31" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="-368.51" y="1070" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-33" value="&lt;div&gt;社交帐号登录/&lt;/div&gt;&lt;div&gt;注册功能&lt;/div&gt;" style="whiteSpace=wrap;html=1;dashed=1;strokeColor=#FF3399;fillColor=#FF99FF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-255" y="920" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.477;exitY=0.9;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;exitPerimeter=0;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-36" target="k4lBBu5_LCIpSnBgb268-233">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-257" y="1590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-36" value="提示“登录成功，欢迎[用户名]回来”" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;rounded=1;strokeWidth=2;arcSize=12;size=0.25;" vertex="1" parent="1">
          <mxGeometry x="-314.26" y="1400" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-73" value="Session共享问题-session原理" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-970" y="190" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-78" target="_3EDfVnfO1TGGqDo599J-79">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-870" y="360" />
              <mxPoint x="-870" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-78" value="浏览器" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;strokeColor=#FF3399;fillColor=#ffffff;size=40;" vertex="1" parent="1">
          <mxGeometry x="-1130" y="285" width="100" height="255" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-90" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;rotation=0;" connectable="0" vertex="1" parent="_3EDfVnfO1TGGqDo599J-78">
          <mxGeometry x="55" y="75" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-79" value="&lt;div&gt;服务器&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#ffffff;strokeColor=#00F5F5;" vertex="1" parent="1">
          <mxGeometry x="-750" y="290" width="100" height="250" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-81" value="第一次访问服务器（进行登录）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1030" y="340" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-86" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#00F5F5;fillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-705" y="340" width="10" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-87" value="&lt;div&gt;登录成功后&lt;/div&gt;&lt;div&gt;将用户的登录信息&lt;/div&gt;&lt;div&gt;保存到session中&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="-694" y="340" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-88" value="" style="endArrow=block;endFill=1;html=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;strokeColor=#000000;exitX=0;exitY=0.66;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=12;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-86" target="_3EDfVnfO1TGGqDo599J-78">
          <mxGeometry x="0.573" y="-16" relative="1" as="geometry">
            <mxPoint x="-720" y="406" as="sourcePoint" />
            <mxPoint x="-1076" y="406" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-980" y="406" />
              <mxPoint x="-980" y="406" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-89" value="2" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" connectable="0" vertex="1" parent="_3EDfVnfO1TGGqDo599J-88">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="-15" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;strokeColor=#000000;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-91" target="_3EDfVnfO1TGGqDo599J-79">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-890" y="460" />
              <mxPoint x="-890" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-91" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontSize=12;fillColor=#ffffff;strokeColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="-1085" y="389" width="10" height="81" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-93" value="以后访问会带上cookie" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-1030" y="440" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-94" value="命令浏览器保存一个jsessionid的cookie" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-1030" y="385" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-95" value="浏览器关闭，cookie清除" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-1030" y="470" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;strokeColor=#000000;" edge="1" parent="1" source="_3EDfVnfO1TGGqDo599J-78" target="_3EDfVnfO1TGGqDo599J-79">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1079.5" y="519.4285714285713" as="sourcePoint" />
            <mxPoint x="-705" y="519.4285714285713" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-790" y="519" />
              <mxPoint x="-790" y="519" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-98" value="再次访问时cookie已经清除还需要再次执行1步骤" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-1030" y="500" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-99" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-1080" y="440" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-100" value="4" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-1080" y="500" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-141" value="" style="shape=table;html=1;whiteSpace=wrap;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=9;strokeColor=#FF3399;fillColor=#ffffff;columnLines=1;rowLines=1;horizontal=1;connectable=1;allowArrows=1;fixedRows=0;resizeLast=0;resizeLastRow=0;arcSize=10;" vertex="1" parent="1">
          <mxGeometry x="-1120" y="610" width="460" height="230" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-142" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=1;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;noLabel=0;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-141">
          <mxGeometry width="460" height="29" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-144" value="解决方法" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=9;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-142">
          <mxGeometry width="80" height="29" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-145" value="优点" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=9;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-142">
          <mxGeometry x="80" width="165" height="29" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-155" value="缺点" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=9;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-142">
          <mxGeometry x="245" width="215" height="29" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-146" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-141">
          <mxGeometry y="29" width="460" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-148" value="1.session复制（同步）方案&lt;br&gt;" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-146">
          <mxGeometry width="80" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-149" value="web-server（tomcat）原生支持，只需要修改配置文件" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-146">
          <mxGeometry x="80" width="165" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-156" value="1.session同步需要数据传输，占用大量的网络带宽，降低了服务器群的业务能力&lt;br&gt;2.任意一台web-sever保存的数据都是所有webserve的session总和，收到内存限制无法水平扩展更多的web-sever&lt;br&gt;3.大型分布集群情况下，由于所有web-server都全量保存数据，故此方案不可取&lt;br&gt;&lt;br&gt;" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-146">
          <mxGeometry x="245" width="215" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-150" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-141">
          <mxGeometry y="96" width="460" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-152" value="2.session存储在客户端cookie中&lt;span style=&quot;white-space: pre&quot;&gt;&lt;/span&gt;" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-150">
          <mxGeometry width="80" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-153" value="服务器不需要存储session，用户保存自己的session信息到cookie中，节省服务端资源" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-150">
          <mxGeometry x="80" width="165" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-157" value="&lt;div&gt;都是缺点，这只是一种思路，缺点如下&lt;/div&gt;&lt;div&gt;1.每次请求http携帯用户在 cookie中的完整信息，浪费网络帯&lt;br&gt;2.sessions数据放在 cookie中， cookie有长度限制4K,不能保存大量信息&lt;br&gt;3.session数据放在 cookies中，存在泄漏、算改、窃取等安全隐患，故此方案不可取&lt;br&gt;&lt;/div&gt;" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-150">
          <mxGeometry x="245" width="215" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-158" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-141">
          <mxGeometry y="163" width="460" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-160" value="&lt;div&gt;3.hash一致性&lt;/div&gt;四层代理Ip_hash方案或七层代理业务字段hash方案" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;metaEdit=0;backgroundOutline=0;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-158">
          <mxGeometry width="80" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-161" value="1.只需要改nginx配置，不需要修改业务代码&lt;br&gt;2.负载均衡，只要hash属性的值分布是均匀的，多台Web-servere的负载是均衡的&lt;br&gt;3.可以支持web-server水平扩展（ session同步法是不行的，受内存限制）" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;metaEdit=0;backgroundOutline=0;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-158">
          <mxGeometry x="80" width="165" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-162" value="&lt;div&gt;1.session还是存在web-server中，故web-server重启可能导致部分session丢失，影响业务，丢失部分session的的用户需要重新登录&lt;/div&gt;&lt;div&gt;2.如果web-server水平扩展，rehash后session重新分布，也会有一部分用户路由不到正确的session，故此方案可用&lt;br&gt;&lt;/div&gt;" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-158">
          <mxGeometry x="245" width="215" height="67" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-163" value="一.不同服务，session不能共享，即不能跨域名共享（分布式）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;fillOpacity=100;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-1080" y="585" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-165" value="二.同一个服务，布置在不同的服务器上，session不同步（集群）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-1101" y="945" width="360" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-166" value="" style="shape=table;html=1;whiteSpace=wrap;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontSize=9;strokeColor=#FF3399;fillColor=#ffffff;columnLines=1;rowLines=1;horizontal=1;connectable=1;allowArrows=1;fixedRows=0;resizeLast=0;resizeLastRow=0;arcSize=10;" vertex="1" parent="1">
          <mxGeometry x="-1137" y="969" width="432" height="222" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-167" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=1;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;noLabel=0;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-166">
          <mxGeometry width="432" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-168" value="解决方法" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=9;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-167">
          <mxGeometry width="108" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-169" value="优点" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=9;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-167">
          <mxGeometry x="108" width="106" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-170" value="缺点" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=9;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-167">
          <mxGeometry x="214" width="218" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-171" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-166">
          <mxGeometry y="30" width="432" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-172" value="" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-171">
          <mxGeometry width="108" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-173" value="" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-171">
          <mxGeometry x="108" width="106" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-174" value="" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-171">
          <mxGeometry x="214" width="218" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-175" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-166">
          <mxGeometry y="94" width="432" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-176" value="" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-175">
          <mxGeometry width="108" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-177" value="" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-175">
          <mxGeometry x="108" width="106" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-178" value="" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-175">
          <mxGeometry x="214" width="218" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-179" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-166">
          <mxGeometry y="158" width="432" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-180" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;metaEdit=0;backgroundOutline=0;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-179">
          <mxGeometry width="108" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-181" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;metaEdit=0;backgroundOutline=0;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-179">
          <mxGeometry x="108" width="106" height="64" as="geometry" />
        </mxCell>
        <mxCell id="_3EDfVnfO1TGGqDo599J-182" style="shape=partialRectangle;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontSize=8;align=left;html=1;" vertex="1" parent="_3EDfVnfO1TGGqDo599J-179">
          <mxGeometry x="214" width="218" height="64" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
